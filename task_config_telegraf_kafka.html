<!DOCTYPE html>
<!--[if IE 9]>         <html class="ie9"> <![endif]-->
<!--[if gt IE 9]><!--> <html>         <!--<![endif]-->
  <head>
  <title>Kafka Data Collector | NetApp Cloud Docs</title>
  <meta charset="utf-8">
  <meta property="og:title" content="Kafka Data Collector | NetApp Cloud Docs" />
	<meta property="og:type" content="website" />
	<meta property="og:url" content="https://docs.netapp.com/cloudinsights/task_config_telegraf_kafka.html" />
	<meta property="og:description" content="Kafka data collector configuration" />
  <meta property="og:image" content="https://docs.netapp.com/cloudinsights/images/logo-tophat-social.png" />
  <meta property="og:image:alt" content="NetApp Logo" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="format-detection" content="telephone=no">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge,chrome=1">
  <meta http-equiv="encoding" content="utf-8">
  <meta http-equiv="nss-type" content="Product Documentation">
  <meta http-equiv="nss-subtype" content="User Guide">
  
  <meta name="description" content="Kafka data collector configuration">
  <meta name="keywords" content=" telegraf, installation, install, kafka">

  <!-- Icons -->
  <link rel="icon" href="/cloudinsights/images/favicon.ico" type="image/x-icon">

  <!-- RSS Feed -->
  
  <link rel="alternate" type="application/rss+xml" title="NetApp Cloud Docs" href="/cloudinsights/feed.xml">
  

  <!-- CSS Definitions: NetApp CSS should be defined after generic css -->

  <!-- Elastic Search -->
  <link rel="stylesheet" href="//cdn.jsdelivr.net/searchkit/0.10.0/theme.css">

  <!-- LUCI CSS Content -->
  <link rel="stylesheet" href="/cloudinsights/common/css/esb.min.css">
  <link rel="stylesheet" href="/cloudinsights/common/css/netapp-library.min.css">
  <link rel="stylesheet" href="/cloudinsights/common/css/doc.css">
  <link rel="stylesheet" href="/cloudinsights/common/css/doc-components.css">

  <link rel="stylesheet" href='/cloudinsights/css/na-sidebar.css' type='text/css'>
  <link rel='stylesheet' href='/cloudinsights/css/na-search.css' type='text/css'>
  <link rel='stylesheet' href='/cloudinsights/css/clouddocs.css' type='text/css'>

  <!-- Font awesome seems to affect our GitHub Icon and generic "arrow box" for external links. -->
  <link rel="stylesheet" type="text/css" href="/cloudinsights/css/font-awesome.min.css">
  <!-- <link rel="stylesheet" href="/cloudinsights/css/customstyles.css"> -->
  <!-- Controls the shadow effect for search dropdown menu -->
  <link rel="stylesheet" href="/cloudinsights/css/boxshadowproperties.css">

  <!-- NetApp CSS controls the technical content -->
  <link rel='stylesheet' href='/cloudinsights/css/netapp.css' type='text/css'>

  

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
  <!-- Used to import Promise for IE. Required for SearchKit -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bluebird/3.3.5/bluebird.min.js"></script>
  
    <script src='/cloudinsights/js/na-search.js'></script>
  

  
  <link rel='stylesheet' href='/cloudinsights/css/na-pagenav.css' type='text/css' id="pagenav-css">
  <script src='/cloudinsights/js/na-pagenav.js'></script>
  

  <link rel='stylesheet' href='/cloudinsights/css/prism.css' type='text/css'>
  <link rel='stylesheet' href='/cloudinsights/css/prism-netapp.css' type='text/css'>

  <script src='/cloudinsights/js/clouddocs.js'></script>
  <script src='/cloudinsights/js/s_code_impl.js'></script>
  <script src='/cloudinsights/js/jquery.navgoco.min.js'></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
  <script src='/cloudinsights/js/toc.js'></script>
  <script src='/cloudinsights/js/customscripts.js'></script>

  <script>
      $(document).ready(function() {
          // Initialize navgoco with default options
          $("#mysidebar").navgoco({
              caretHtml: '',
              accordion: true,
              openClass: 'active', // open
              save: false, // leave false or nav highlighting doesn't work right
              cookie: {
                  name: 'navgoco',
                  expires: false,
                  path: '/'
              },
              slide: {
                  duration: 400,
                  easing: 'swing'
              }
          });

          $("#collapseAll").click(function(e) {
              e.preventDefault();
              $("#mysidebar").navgoco('toggle', false);
          });

          $("#expandAll").click(function(e) {
              e.preventDefault();
              $("#mysidebar").navgoco('toggle', true);
          });

      });

  </script>
  <script>
      $(function () {
          $('[data-toggle="tooltip"]').tooltip()
      })
  </script>
  <script>
      $(document).ready(function() {
          $("#tg-sb-link").click(function() {
              $("#tg-sb-sidebar").toggle();
              $("#tg-sb-content").toggleClass('col-md-9');
              $("#tg-sb-content").toggleClass('col-md-12');
              $("#tg-sb-icon").toggleClass('fa-toggle-on');
              $("#tg-sb-icon").toggleClass('fa-toggle-off');
          });
      });
  </script>

  <!-- Controls the i18n Browser Redirection -->
  <script>
    var siteLocales = [];
    
      siteLocales.push("zz");
    
      siteLocales.push("en");
    
      siteLocales.push("us-en");
    

    standardizeUrl(siteLocales, "clouddocs.netapp.com", "https://docs.netapp.com");
  </script>

  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-81697994-3"></script>
  <script>
  if (document.location.hostname === "docs.netapp.com") {
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-81697994-3');
  }
  </script>
</head>


  <body class="n-doc__component-detail">
    <a href="#n-main-content" class="visually-hidden">Skip to main content</a>
<div class="n-off-canvas-menu">
  <div class="n-off-canvas-menu__menu">
    <div class="n-off-canvas-menu__menu-inner">
      <div class="n-off-canvas-menu__property-title">NetApp Cloud Docs</div>
      <ul class="n-off-canvas-menu__property-navigation-list">
        <li class="n-off-canvas-menu__property-navigation-list-item ">
          <a href="https://docs.netapp.com/zz/" class="n-off-canvas-menu__property-navigation-link">
            Home
          </a>
          <div class="n-off-canvas-menu__child-menu">
            <ul class="n-menu__list">

            </ul>
          </div>
        </li>
      </ul>

      <ul class="n-off-canvas-menu__global-navigation-list">
         <li class="n-off-canvas-menu__global-navigation-list-header">More From NetApp</li>
         <li class="n-off-canvas-menu__global-navigation-list-item"><a href="#" class="n-off-canvas-menu__global-navigation-link">Netapp.com</a></li>
      </ul>
    </div>
  </div>
</div>

    <div class="n-off-canvas-menu__content-wrap">
      <!-- Header -->
      <header>
  <!-- Top Hat -->
  <div class="n-top-hat">
    <div class="n-container">
      <div class="n-top-hat__cross-property-nav">
        <ul class="n-top-hat__list">
            <li class="n-top-hat__list-item">
              <a href="http://www.netapp.com" class="n-top-hat__link">NetApp.com</a>
            </li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Property Bar -->
  <div class="n-property-bar n-property-bar--v3">
    <div class="n-property-bar__inner-wrap">
      <div class="n-property-bar__menu-toggle">
        <a href="#" class="n-property-bar__menu-toggle-link"><span class="n-property-bar__menu-toggle-text">Menu</span><svg class="n-icon-bars n-property-bar__menu-toggle-icon" aria-labelledby="title">
          <title>bars</title>
          <use xlink:href="/cloudinsights/common/svg/sprite.svg#bars"></use>
        </svg></a>
      </div>
      <div class="n-property-bar__property-mark n-property-bar__property-mark--has-property-name">
        <a class="n-property-bar__property-link" href="https://docs.netapp.com/zz/">
          <div class="n-property-bar__logo">
            <svg class="n-icon-netapp-mark n-property-bar__netapp-mark-icon" aria-labelledby="title">
              <title>netapp-mark</title>
              <use xlink:href="/cloudinsights/common/svg/sprite.svg#netapp-mark"></use>
            </svg>
            <svg viewBox="0 0 1008 181.537" class="n-property-bar__logo-svg" aria-labelledby="title">
              <title>NetApp</title>
              <use xlink:href="/cloudinsights/common/svg/sprite.svg#netapp-logo"></use>
            </svg>
          </div>
          <h2 class="n-property-bar__property-name">Cloud Docs</h2>
        </a>
      </div>

      <!-- NetApp Search Bar -->
      
      <div id="search-demo-container" class="n-property-bar__search">
        <div id="react-search"></div>
      </div>
      

      <div id="ie-i18n-menu" class="n-property-bar__utils">
        <ul class="n-property-navigation-bar__utils-list">
          <li class="n-property-navigation-bar__utils-list-item">
            <a href="#" class="n-property-navigation-bar__utils-link n-property-navigation-bar__nav-link n-property-navigation-bar__language-selector-toggle" data-menu-id="n-property-navigation-bar__menu--language-selector">
              <svg class="n-icon-globe n-globe__icon" aria-labelledby="title">
                <title>globe</title>
                <use xlink:href="/cloudinsights/common/svg/sprite.svg#globe"></use>
              </svg>
            </a>
          </li>
        </ul>
      </div>
      <!-- End NetApp Search Bar -->
    </div>

    <div class="n-property-bar__menus">
      <div id="n-property-navigation-bar__menu--language-selector" class="n-menu n-menu--v3">
        <div class="n-language-selector-menu">
          <div class="n-language-selector-menu__header">
            <span class="n-language-selector-menu__title">Select Your Language</span>
          </div>
          <ul class="n-menu__list">
            <li class="n-menu__list-column">
              <ul class="n-menu__list">
                <li class="n-menu__list-item n-menu__list-item--level-1">
                  <a href="/cloudinsights/us-en/" class="n-menu__header-text">English</a>
                </li>
              </ul>
            </li>
          </ul>
          <div class="menu__footer">
            <p>Current Language: zz
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>


      <!-- Content -->
      <main role="main" id="n-main-content" class="n-main-content">
        <div class="n-container">
  <div class="n-row">
    <div class="n-doc n-doc__component-list">
      <!-- Sidebar Column -->
      
      <div class="col-md-3" >
          

<ul id="mysidebar" class="nav">
  

  
    <li><a href="index.html">Cloud Insights documentation</a></li>
  

  
    <li><a href="concept_whats_new.html">What's New</a></li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Getting started</a>
      <ul>
        

  
    <li><a href="task_cloud_insights_onboarding_1.html">Onboarding</a></li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Collecting Data</a>
      <ul>
        

  
    <li><a href="task_getting_started_with_cloud_insights.html">Overview</a></li>
  

  
    <li><a href="concept_acquisition_unit_requirements.html">Acquisition Unit Requirements</a></li>
  

  
    <li><a href="task_configure_acquisition_unit.html">Configuring an Acquisition Unit</a></li>
  

  
    <li><a href="task_configure_data_collectors.html">Configuring Data Collectors</a></li>
  

  
    <li><a href="concept_determining_data_collector_acq_status.html">Determining Data Collector Acquisition Status</a></li>
  

  
    <li><a href="task_view_configured_data_collectors.html">Manage Configured Data Collectors</a></li>
  

  
    <li><a href="task_research_failed_collector.html">Research data collector errors</a></li>
  


      </ul>
    </li>
  

  
    <li><a href="concept_import_from_dashboard_gallery.html">Importing Recommended Dashboards</a></li>
  

  
    <li><a href="concept_user_roles.html">User Accounts and Roles</a></li>
  

  
    <li><a href="concept_other_cloud_products.html">Switching to Other Cloud Central Products</a></li>
  


      </ul>
    </li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Data Collector Vendor Reference</a>
      <ul>
        

  
    <li><a href="concept_data_collector_reference.html">Vendor Reference Overview</a></li>
  

  
    <li><a href="task_dc_amazon_ec2.html">AWS</a></li>
  

  
    <li><a href="task_dc_ms_azure.html">Azure</a></li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Broadcom</a>
      <ul>
        

  
    <li><a href="task_dc_brocade_bna.html">Brocade Network Advisor</a></li>
  

  
    <li><a href="task_dc_brocade_fc_switch.html">Fibre Channel Switch</a></li>
  


      </ul>
    </li>
  

  
    <li><a href="task_dc_ceph_storage.html">Ceph</a></li>
  

  
    <li><a href="task_dc_cisco_fc_switch.html">Cisco</a></li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Dell</a>
      <ul>
        

  
    <li><a href="task_dc_dell_compellent.html">Compellent Storage</a></li>
  

  
    <li><a href="task_dc_dell_xc_series.html">XC series</a></li>
  


      </ul>
    </li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Dell EMC</a>
      <ul>
        

  
    <li><a href="task_dc_emc_datadomain.html">Data Domain</a></li>
  

  
    <li><a href="task_dc_emc_isilon.html">Isilon</a></li>
  

  
    <li><a href="task_dc_emc_recoverpoint.html">RecoverPoint</a></li>
  

  
    <li><a href="task_dc_emc_scaleio.html">ScaleIO</a></li>
  

  
    <li><a href="task_dc_emc_unity.html">Unity (VNXe)</a></li>
  

  
    <li><a href="task_dc_emc_vmax_powermax.html">VMAX/PowerMax</a></li>
  

  
    <li><a href="task_dc_emc_vnx_block.html">VNX Block (Clariion)</a></li>
  

  
    <li><a href="task_dc_emc_vnx_file.html">VNX File (Celerra)</a></li>
  

  
    <li><a href="task_dc_emc_vnx_unified.html">VNX Unified</a></li>
  

  
    <li><a href="task_dc_emc_vplex.html">VPLEX</a></li>
  

  
    <li><a href="task_dc_emc_xio.html">XtremIO</a></li>
  


      </ul>
    </li>
  

  
    <li><a href="task_dc_fujitsu_eternus.html">Fujitsu</a></li>
  

  
    <li><a href="task_dc_google_cloud.html">Google</a></li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">HP Enterprise</a>
      <ul>
        

  
    <li><a href="task_dc_hp_3par.html">HP 3PAR StoreServ</a></li>
  

  
    <li><a href="task_dc_hpe_commandview.html">HP Command View AE</a></li>
  


      </ul>
    </li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Hitachi Data Systems</a>
      <ul>
        

  
    <li><a href="task_dc_hds_commandsuite.html">HDS Command Suite</a></li>
  

  
    <li><a href="task_dc_hds_nas.html">HDS HNAS</a></li>
  


      </ul>
    </li>
  

  
    <li><a href="task_dc_infinidat_infinibox.html">Infinidat</a></li>
  

  
    <li><a href="task_dc_huawei_oceanstor.html">Huawei</a></li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">IBM</a>
      <ul>
        

  
    <li><a href="task_dc_ibm_cs.html">CS Series</a></li>
  

  
    <li><a href="task_dc_ibm_ds.html">System Storage DS8000 Series</a></li>
  

  
    <li><a href="task_dc_ibm_powervm.html">PowerVM</a></li>
  

  
    <li><a href="task_dc_ibm_svc.html">San Volume Controller (SVC)</a></li>
  

  
    <li><a href="task_dc_ibm_xiv.html">XIV/A9000</a></li>
  


      </ul>
    </li>
  

  
    <li><a href="task_dc_lenovo.html">Lenovo</a></li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Microsoft</a>
      <ul>
        

  
    <li><a href="task_dc_ms_hyperv.html">Hyper-V</a></li>
  


      </ul>
    </li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">NetApp</a>
      <ul>
        

  
    <li><a href="task_dc_na_cloud_volumes.html">Cloud Volumes</a></li>
  

  
    <li><a href="task_dc_na_cdot.html">ONTAP Data Management Software</a></li>
  

  
    <li><a href="task_dc_na_7mode.html">Data ONTAP 7-mode</a></li>
  

  
    <li><a href="task_dc_na_eseries.html">E-Series</a></li>
  

  
    <li><a href="task_dc_na_hostvm.html">Host and VM File System</a></li>
  

  
    <li><a href="task_dc_na_solidfire.html">SolidFire</a></li>
  

  
    <li><a href="task_dc_na_storagegrid.html">StorageGrid</a></li>
  


      </ul>
    </li>
  

  
    <li><a href="task_dc_nutanix.html">Nutanix</a></li>
  

  
    <li><a href="task_dc_openstack.html">OpenStack</a></li>
  

  
    <li><a href="task_dc_oracle_zfs.html">Oracle</a></li>
  

  
    <li><a href="task_dc_pure_flasharray.html">Pure</a></li>
  

  
    <li><a href="task_dc_redhat_virtualization.html">Red Hat</a></li>
  

  
    <li><a href="task_dc_vmware.html">VMWare</a></li>
  


      </ul>
    </li>
  

  
    <li><a href="concept_subscribing_to_cloud_insights.html">Subscribing to Cloud Insights</a></li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Creating Dashboards</a>
      <ul>
        

  
    <li><a href="concept_dashboards_overview.html">Dashboard Overview</a></li>
  

  
    <li><a href="concept_dashboard_features.html">Features of Dashboards</a></li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Sample Dashboards</a>
      <ul>
        

  
    <li><a href="task_dashboard_example_VM_performance.html">Virtual Machine Performance</a></li>
  


      </ul>
    </li>
  

  
    <li><a href="concept_dashboard_best_practices.html">Dashboard Best Practices</a></li>
  


      </ul>
    </li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Working with Queries</a>
      <ul>
        

  
    <li><a href="concept_querying_assets.html">Querying Assets</a></li>
  

  
    <li><a href="task_create_query.html">Creating a Query</a></li>
  

  
    <li><a href="task_view_queries.html">Viewing Available Queries</a></li>
  

  
    <li><a href="task_export_query_results.html">Exporting Query Results to .CSV</a></li>
  

  
    <li><a href="task_modify_delete_query.html">Modifying or Deleting a Query</a></li>
  

  
    <li><a href="task_query_assign_multiple_applicationss.html">Assigning Multiple Applications/Annotations to Objects</a></li>
  

  
    <li><a href="task_query_copy_table_values.html">Copying table values to the Clipboard</a></li>
  


      </ul>
    </li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">All About Annotations</a>
      <ul>
        

  
    <li><a href="task_defining_annotations.html">Defining Annotations</a></li>
  

  
    <li><a href="task_create_annotation.html">Using Annotations</a></li>
  

  
    <li><a href="task_create_annotation_rules.html">Using Annotation Rules</a></li>
  


      </ul>
    </li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Working with Applications</a>
      <ul>
        

  
    <li><a href="concept_about_applications.html">Application Concepts</a></li>
  

  
    <li><a href="task_create_application.html">Configuring Applications</a></li>
  


      </ul>
    </li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Performance Policies and Alerts</a>
      <ul>
        

  
    <li><a href="task_create_performance_policies.html">Alerting with Performance Policies</a></li>
  

  
    <li><a href="concept_notifications_email.html">Configuring Notification Recipients</a></li>
  


      </ul>
    </li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Monitoring your Environment</a>
      <ul>
        

  
    <li><a href="concept_audit.html">Auditing Events</a></li>
  

  
    <li><a href="concept_ttl_and_downsampling.html">TTL and Downsampling</a></li>
  


      </ul>
    </li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Asset Page Information</a>
      <ul>
        

  
    <li><a href="concept_asset_page_overview.html">Asset Page Overview</a></li>
  

  
    <li><a href="concept_in_context_filters.html">In-Context Filtering for Objects</a></li>
  

  
    <li><a href="concept_asset_summary_section.html">Summary & Topology Sections</a></li>
  

  
    <li><a href="concept_asset_expert_view_section.html">Expert View Section</a></li>
  

  
    <li><a href="concept_asset_user_data_section.html">User Data Section</a></li>
  

  
    <li><a href="concept_asset_violation_section.html">Violations Section</a></li>
  

  
    <li><a href="concept_searching_assets.html">Hints and Tips to Search for Assets</a></li>
  


      </ul>
    </li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Troubleshooting</a>
      <ul>
        

  
    <li><a href="concept_troubleshooting_overview.html">Troubleshooting Overview</a></li>
  

  
    <li><a href="task_troubleshooting_linux_acquisition_unit_problems.html">Troubleshooting Linux Acquisition Unit Problems</a></li>
  

  
    <li><a href="task_troubleshooting_windows_acquisition_unit_problems.html">Troubleshooting Windows Acquisition Unit Problems</a></li>
  

  
    <li><a href="task_research_failed_collector.html">Researching Data Collector Errors</a></li>
  


      </ul>
    </li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Reference & Support</a>
      <ul>
        

  
    <li><a href="concept_requesting_support.html">Requesting Support</a></li>
  

  
    <li><a href="reference_data_collector_support_matrix.html">Data Collector Support Matrix</a></li>
  

  
    <li><a href="reference_object_icons.html">Object Icon Reference</a></li>
  


      </ul>
    </li>
  


</ul>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

      </div>
      

      <div class="n-doc__component-detail-content n-doc__component-detail-content--show-code">
        <!-- Begin of page container -->
        <article class="page-content">
          

<div class="n-doc__component-detail-heading-wrap">
  <h1 class="n-doc__component-detail-heading">Kafka Data Collector
    <span>
      
        <a target="_blank" href="https://github.com/NetAppDocs/cloudinsights/blob/master/task_config_telegraf_kafka.adoc" class="btn btn-default githubEditButton" role="button"><i class="fa fa-github fa-lg"></i> Edit on GitHub</a>
        <a target="_blank" href="https://github.com/NetAppDocs/cloudinsights/issues/new?body=Page%3A%20[Kafka Data Collector](https://docs.netapp.com/zz/cloudinsights/task_config_telegraf_kafka.html)" class="btn btn-default githubEditButton" role="button"><i class="fa fa-github fa-lg"></i> Request doc changes</a>
      
    </span>
  </h1>
</div>

<p class="page-details">

<time datetime="2019-04-03 14:01:09 +0000">04/03/2019</time>


<span>Contributors
  
  <a target="_blank" href="https://github.com/netapp-alavoie">
    <img  class="avatar avatar-small"
          alt="netapp-alavoie"
          width="20" height="20"
          src="https://avatars0.githubusercontent.com/u/39956590?v=4"
          style="border-radius: 50%;"/>
  </a>
  
</span>

</p>

<div id="preamble">
<div class="sectionbody">
<div class="paragraph lead">
<p>Cloud Insights uses this data collector to gather metrics from Kafka.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This topic is considered Preview documentation and is subject to change.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="installation">Installation</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>From <strong>Admin &gt; Data Collectors</strong>, click <strong>+Data Collector</strong>. Under <strong>Services</strong>, choose Kafka.</p>
<div class="paragraph">
<p>If you haven&#8217;t configured an Agent for collection, you are prompted to <a href="task_config_telegraf_agent.html">install an agent</a> in your environment.</p>
</div>
<div class="paragraph">
<p>If you have an agent already configured, select the appropriate Operating System or Platform and click <strong>Continue</strong>.</p>
</div>
</li>
<li>
<p>Follow the instructions in the Kafka Configuration screen to configure the data collector. The instructions vary depending on the type of Operating System or Platform you are using to collect data. The example below shows the instructions for Windows:</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="./media/KafkaDCConfigWindows.png" alt="Kafka configuration"></span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="setup">Setup</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Kafka plugin is based on the telegraf&#8217;s Jolokia plugin. As such as a requirement to gather info from all Kafka brokers, JMX needs to be configured and exposed via Jolokia on all components.</p>
</div>
<div class="sect3">
<h4 id="compatibility">Compatibility</h4>
<div class="paragraph">
<p>Configuration was developed against Kafka version 0.11.0.2.</p>
</div>
</div>
<div class="sect3">
<h4 id="setting-up">Setting up</h4>
<div class="paragraph">
<p>All the instructions below assume your install location for kafka is '/opt/kafka'. You can adapt instructions below to reflect your install location.</p>
</div>
</div>
<div class="sect3">
<h4 id="jolokia-agent-jar">Jolokia Agent Jar</h4>
<div class="paragraph">
<p>A version the Jolokia agent jar file must be <a href="https://jolokia.org/download.html">downloaded</a>. The version tested against was Jolokia agent 1.6.0.</p>
</div>
<div class="paragraph">
<p>Instructions below assume that the downloaded jar file (jolokia-jvm-1.6.0-agent.jar) is placed under the location '/opt/kafka/libs/'.</p>
</div>
</div>
<div class="sect3">
<h4 id="kafka-brokers">Kafka Brokers</h4>
<div class="paragraph">
<p>To configure Kafka Brokers to expose the Jolokia API, you can add the following in &lt;KAFKA_HOME&gt;/bin/kafka-server-start.sh, just before the 'kafka-run-class.sh' call:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>export JMX_PORT=9999
export RMI_HOSTNAME=`hostname -I`
export KAFKA_JMX_OPTS="-javaagent:/opt/kafka/libs/jolokia-jvm-1.6.0-agent.jar=port=8778,host=0.0.0.0  -Dcom.sun.management.jmxremote.password.file=/opt/kafka/config/jmxremote.password -Dcom.sun.management.jmxremote.ssl=false -Djava.rmi.server.hostname=$RMI_HOSTNAME -Dcom.sun.management.jmxremote.rmi.port=$JMX_PORT"</pre>
</div>
</div>
<div class="paragraph">
<p>Note that example above is using 'hostname -I' to setup the 'RMI_HOSTNAME' environment variable. In multiple IP machines, this will need to be tweaked to gather the IP you care about for RMI connections.</p>
</div>
<div class="paragraph">
<p>You can choose a different port for JMX (9999 above) and Jolokia (8778). If you have an internal IP to lock Jolokia onto you can replace the "catch all" 0.0.0.0 by your own IP. Notice this IP needs to be accessible from the telegraf plugin. You can use the option '-Dcom.sun.management.jmxremote.authenticate=false' if you don&#8217;t want to authenticate. Use at your own risk.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="objects-and-counters">Objects and Counters</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following objects and their counters are collected:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Object:</th>
<th class="tableblock halign-left valign-top">Identifiers:</th>
<th class="tableblock halign-left valign-top">Attributes:</th>
<th class="tableblock halign-left valign-top">Datapoints:</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kafka Broker</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cluster<br>
Namespace<br>
Broker</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Node Name<br>
Node IP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Replica Manager Fetcher Max Lag<br>
Zookeeper Client Connections<br>
Zookeeper Client Connections (15m rate)<br>
Zookeeper Client Connections (5m rate)<br>
Zookeeper Client Connections (mean rate)<br>
Zookeeper Client Connections (1m rate)<br>
Replica Manager Partition Count<br>
Thread Count Daemon<br>
Thread Count Peak<br>
Thread Count Current<br>
Thread Count Total Started<br>
Offline Partitions<br>
Produce Requests Total Time (50th Percentile)<br>
Produce Requests Total Time (75th Percentile)<br>
Produce Requests Total Time (95th Percentile)<br>
Produce Requests Total Time (98 Percentile)<br>
Produce Requests Total Time (999th Percentile)<br>
Produce Requests Total Time (99th Percentile)<br>
Produce Requests Total Time<br>
Produce Requests Total Time Max<br>
Produce Requests Total Time Mean<br>
Produce Requests Total Time Min<br>
Produce Requests Total Time Stddev<br>
Replica Manager ISR Shrinks<br>
Replica Manager ISR Shrinks (15m rate)<br>
Replica Manager ISR Shrinks (5m rate)<br>
Replica Manager ISR Shrinks (mean rate)<br>
Replica Manager ISR Shrinks (1m rate)<br>
Request Handler Avg Idle<br>
Request Handler Avg Idle (15m rate)<br>
Request Handler Avg Idle (5m rate)<br>
Request Handler Avg Idle (mean rate)<br>
Request Handler Avg Idle (1m rate)<br>
Garbage Collection G1 Old Generation Count<br>
Garbage Collection G1 Old Generation Time<br>
Garbage Collection G1 Young Generation Count<br>
Garbage Collection G1 Young Generation Time<br>
Zookeeper Read Only Connects<br>
Zookeeper Read Only Connects (15m rate)<br>
Zookeeper Read Only Connects (5m rate)<br>
Zookeeper Read Only Connects (mean rate)<br>
Zookeeper Read Only Connects (1m rate)<br>
Network Processor Avg Idle<br>
Requests Fetch Follower Total Time (50th percentile)<br>
Requests Fetch Follower Total Time (75th percentile)<br>
Requests Fetch Follower Total Time (95th percentile)<br>
Requests Fetch Follower Total Time (98th percentile)<br>
Requests Fetch Follower Total Time (999th percentile)<br>
Requests Fetch Follower Total Time (99th percentile)<br>
Requests Fetch Follower Total Time<br>
Requests Fetch Follower Total Time Max<br>
Requests Fetch Follower Total Time Mean<br>
Requests Fetch Follower Total Time Min<br>
Requests Fetch Follower Total Time Stddev<br>
Requests Waiting in Produce Purgatory<br>
Network Requests Fetch Consumer<br>
Network Requests Fetch Consumer (5m rate)<br>
Network Requests Fetch Consumer (15m rate)<br>
Network Requests Fetch Consumer (mean rate)<br>
Network Requests Fetch Consumer (1m rate)<br>
Unclean Leader Elections<br>
Unclean Leader Elections (15m rate)<br>
Unclean Leader Elections (5m rate)<br>
Unclean Leader Elections (mean rate)<br>
Unclean Leader Elections (1m rate)<br>
Active Controllers<br>
Heap Memory Committed<br>
Heap Memory Init<br>
Heap Memory Max<br>
Heap Memory Used<br>
Zookeeper Session Expires<br>
Zookeeper Session Expires (15m rate)<br>
Zookeeper Session Expires (5m rate)<br>
Zookeeper Session Expires (mean rate)<br>
Zookeeper Session Expires (1m rate)<br>
Zookeeper Authentication Failures<br>
Zookeeper Authentication Failures (15m rate)<br>
Zookeeper Authentication Failures (5m rate)<br>
Zookeeper Authentication Failures (mean rate)<br>
Zookeeper Authentication Failures (1m rate)<br>
Leader Election Time (50th percentile)<br>
Leader Election Time (75th percentile)<br>
Leader Election Time (95th percentile)<br>
Leader Election Time (98th percentile)<br>
Leader Election Time (999th percentile)<br>
Leader Election Time (99th percentile)<br>
Leader Election Count<br>
Leader Election Time (15m rate)<br>
Leader Election Time (5m rate)<br>
Leader Election Time Max<br>
Leader Election Time Mean<br>
Leader Election Time (mean rate)<br>
Leader Election Time Min<br>
Leader Election Time (1m rate)<br>
Leader Election Time (stddev)<br>
Network Requests Fetch Follower<br>
Network Requests Fetch Follower (15m rate)<br>
Network Requests Fetch Follower (5m rate)<br>
Network Requests Fetch Follower (mean rate)<br>
Network Requests Fetch Follower (1m rate)<br>
Broker Topic Messages<br>
Broker Topic Messages (15m rate)<br>
Broker Topic Messages (5m rate)<br>
Broker Topic Messages (mean rate)<br>
Broker Topic Messages (1m rate)<br>
Broker Topic Bytes In<br>
Broker Topic Bytes In (15m rate)<br>
Broker Topic Bytes In (5m rate)<br>
Broker Topic Bytes In (mean rate)<br>
Broker Topic Bytes In (1m rate)<br>
Zookeeper Disconnects Count<br>
Zookeeper Disconnects (15m rate)<br>
Zookeeper Disconnects (5m rate)<br>
Zookeeper Disconnects (mean rate)<br>
Zookeeper Disconnects (1m rate)<br>
Network Requests Fetch Consumer Total Time (50th percentile)<br>
Network Requests Fetch Consumer Total Time (75th percentile)<br>
Network Requests Fetch Consumer Total Time (95th percentile)<br>
Network Requests Fetch Consumer Total Time (98th percentile)<br>
Network Requests Fetch Consumer Total Time (999th percentile)<br>
Network Requests Fetch Consumer Total Time (99th percentile)<br>
Network Requests Fetch Consumer Total Time<br>
Network Requests Fetch Consumer Total Time Max<br>
Network Requests Fetch Consumer Total Time Mean<br>
Network Requests Fetch Consumer Total Time Min<br>
Network Requests Fetch Consumer Total Time Stddev<br>
LeaderCount<br>
Requests Waiting in Fetch Purgatory<br>
Broker Topic Bytes Out<br>
Broker Topic Bytes Out (15m rate)<br>
Broker Topic Bytes Out (5m rate)<br>
Broker Topic Bytes Out (mean rate)<br>
Broker Topic Bytes Out (1m rate)<br>
Zookeeper Authentications<br>
Zookeeper Authentications (15m rate)<br>
Zookeeper Authentications (5m rate)<br>
Zookeeper Authentications (mean rate)<br>
Zookeeper Authentications (1m rate)<br>
Requests Produce Count<br>
Requests Produce (15m rate)<br>
Requests Produce (5m rate)<br>
Requests Produce (mean rate)<br>
Requests Produce (1m rate)<br>
Replica Manager ISR Expands<br>
Replica Manager ISR Expands (15m rate)<br>
Replica Manager ISR Expands (5m rate)<br>
Replica Manager ISR Expands (mean rate)<br>
Replica Manager ISR Expands (1m rate)<br>
Replica Manager Under Replicated Partitions</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="troubleshooting">Troubleshooting</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Additional information may be found from the <a href="concept_requesting_support.html">Support</a> page.</p>
</div>
</div>
</div>

        </article>
        <!-- Page Container -->
      </div>

      
      <div class="page-nav-container">
        <nav class="page-nav-fixed">
          <div class="page-nav-title">On this page:</div>
          <ul class="page-nav-inner" id="page-menu"></ul>
        </nav>
      </div>
      

    </div>
  </div>
</div>

      </main>

      <!-- Footer -->
      
      <footer class="n-footer n-footer--v1" style="border-top: solid 10px #DFDFDF;">
        <div class="n-footer__bottom">
          <div class="n-container">
            <div class="n-footer__bottom-left">
              <div class="n-footer__copyright">
                  <a href="//www.netapp.com/us/legal/copyright.aspx" class="n-footer__copyright-link">Â© 2019 NetApp, Inc.</a>
              </div>
              <div class="n-footer__copyright">
                <a href="https://library.netapp.com/ecm/ecm_download_file/ECMLP2848669" class="n-footer__copyright-link">Notice</a>
              </div>
              <div class="n-footer__copyright">
                <a href="//www.netapp.com/us/legal/index.aspx" class="n-footer__copyright-link">Legal</a>
              </div>
              <div class="n-footer__social-links n-footer__copyright">
                <ul class="n-footer__social-link-list">
                  <li class="n-footer__social-link-list-item">
                    <a class="n-footer__social-link" data-ntap-social="follow-blog" href="http://blog.netapp.com" target="_blank" title="blog" alt="blog">
                      <span class="n-footer__social-link-text">blog</span>
                      <svg class="n-icon-blog n-footer__social-link-icon" aria-labelledby="title">
                        <title>blog@</title>
                        <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/cloudinsights/common/svg/sprite.svg#blog"></use>
                      </svg>
                    </a>
                  </li>
                  <li class="n-footer__social-link-list-item">
                    <a class="n-footer__social-link" data-ntap-social="follow-community" href="http://community.netapp.com/" target="_blank" title="community" alt="community">
                      <span class="n-footer__social-link-text">community</span>
                      <svg class="n-icon-twitter n-footer__social-link-icon" aria-labelledby="title">
                        <title>community@</title>
                        <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/cloudinsights/common/svg/sprite.svg#comments"></use>
                      </svg>
                    </a>
                  </li>

                  <li class="n-footer__social-link-list-item">
                    <a class="n-footer__social-link" data-ntap-social="follow-twitter" href="https://twitter.com/netappdoc" target="_blank" title="twitter" alt="twitter">
                      <span class="n-footer__social-link-text">twitter</span>
                      <svg class="n-icon-twitter n-footer__social-link-icon" aria-labelledby="title">
                        <title>twitter@</title>
                        <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/cloudinsights/common/svg/sprite.svg#twitter"></use>
                      </svg>
                    </a>
                  </li>
                  <li class="n-footer__social-link-list-item">
                    <a class="n-footer__social-link" data-ntap-social="follow-youtube" href="https://www.youtube.com/user/NetAppTechCommTV/" target="_blank" title="youtube" alt="youtube">
                      <span class="n-footer__social-link-text">youtube</span>
                      <svg class="n-icon-youtube n-footer__social-link-icon" aria-labelledby="title">
                        <title>youtube@</title>
                        <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/cloudinsights/common/svg/sprite.svg#youtube"></use>
                      </svg>
                    </a>
                  </li>
                </ul>
              </div>
            </div>
            <div class="n-footer__bottom-right">
              <div class="n-footer__copyright">
                <a href="https://docs.netapp.com/zz/contribute/" class="n-footer__copyright-link">Contribute</a>
              </div>
              <div class="n-footer__copyright">
                <a target="_self" class="n-footer__copyright-link" href="javascript:netapp_mailto()">Email your feedback</a>
              </div>
            </div>
          </div>
        </div>
      </footer>

    </div>

    <script src="/cloudinsights/common/js/components.js"></script>
    <script src="/cloudinsights/common/js/doc-components.js"></script>

    <!-- Elasticsearch JS -->
    <script type="text/javascript" src='/cloudinsights/js/bundle.js'></script>

    <!-- Syntax Highlighting -->
    <script type="text/javascript" src='/cloudinsights/js/prism.js'></script>
    <script type="text/javascript" src='/cloudinsights/js/prism-curl.js'></script>

  </body>

  
</html>
